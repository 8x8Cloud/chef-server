#%RAML 0.8
---
description: Chef Organizations, describing one set of nodes, cookbooks, policies and other objects.
type: list_endpoint

get:
  description: List all organizations on the server. Superuser only.
  responses:
    200: { body: { schema: NamedChildList } }

post:
  description: Create an organization. Superuser only.
  body: { schema: Organization }
  responses:
    201: { body: { schema: OrganizationCreated } }

/{organization}:
  description: An organization, describing a common set of nodes, cookbooks, policies and other objects.
  type: item_endpoint
  uriParameters:
    organization:
      description: Shortname of the organization you wish to perform an action on
      type: string

  get:
    description: Get this organization.
    responses:
      200: { body: { schema: Organization } }

  put:
    description: Update this organization.
    body: { schema: Organization }
    responses:
      200: { body: { schema: OrganizationUpdated } }

  delete:
    description: Delete this organization.
    responses:
      200: { body: { schema: Organization } }

  /association_requests: !include organizations/association_requests.yaml
  /clients: !include organizations/clients.yaml
  /cookbooks: !include organizations/cookbooks.yaml
  /cookbook_artifacts: !include organizations/cookbook_artifacts.yaml
  /containers: !include organizations/containers.yaml
  /controls: !include organizations/controls.yaml
  /data: !include organizations/data.yaml
  /environments: !include organizations/environments.yaml
  /nodes: !include organizations/nodes.yaml
  /policies: !include organizations/policies.yaml
  /policy_groups: !include organizations/policy_groups.yaml
  /roles: !include organizations/roles.yaml
  /principals: !include organizations/principals.yaml
  /sandboxes: !include organizations/sandboxes.yaml
  /search: !include organizations/search.yaml
  /users: !include organizations/users.yaml

  /organization/_acl:
    description: Access control for the organization.
    type: acl_endpoint

    /{permission}:
      type: acl_permission_endpoint
